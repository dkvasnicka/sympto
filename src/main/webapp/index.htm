<!DOCTYPE html>
<html ng-app="sympto">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Sympto</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Daniel Kvasnicka">

        <!-- CSS bullshit -->
        <link href="bootstrap/css/bootstrap.css" rel="stylesheet">
        <style>
            body {
                padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
                font-family: source-sans-pro, sans-serif;
            }

            #socialLogin {
                text-align: center;
            }    

            .dashboardFormBtn {
                display: block; 
                margin: 5px;
                width: 10em;
            }    

            .navbar-text select {
                font-size: 80%;
                height: 1.7em;
                margin: 0 0 0 20px;
            }
        </style>
        <link href="bootstrap/css/bootstrap-responsive.css" rel="stylesheet">

        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <!--[if lte IE 8]><script language="javascript" type="text/javascript" src="js/flot/excanvas.min.js"></script><![endif]-->

        <link type="text/css" href="/css/angular-ui.css" rel="stylesheet" />
        <link type="text/css" href="//code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" rel="stylesheet" />
        <script src="//use.edgefonts.net/source-sans-pro.js"></script>

        <!-- ClojureScript stuff -->
        <script type="text/javascript" src="js/goog/base.js"></script>
        <script type="text/javascript" src="js/cljs/core.js"></script>
        <script type="text/javascript" src="js/utils.js"></script>
        <script type="text/javascript" src="js/zip.js"></script>        
        <script type="text/javascript" src="js/sympto.js"></script>
        <script type="text/javascript">
            goog.require('utils');
            goog.require('clojure.zip');
            goog.require('cljsympto.core');
        </script>        

        <!-- AngularJS and jQuery basics -->
        <script type="text/javascript" src="/js/jquery-1.8.3.min.js"></script>        
        <script type="text/javascript" src="/js/flot/jquery.flot.js"></script>        
        <script type="text/javascript" src="//code.jquery.com/ui/1.9.1/jquery-ui.js"></script>        

        <script type="text/javascript" src="/js/angular.min.js"></script>
        <script type="text/javascript" src="/js/angular-resource.min.js"></script>
        <script type="text/javascript" src="/js/angular-ui.min.js"></script>

        <!--[if lte IE 8]>
            <script>
            // The ieshiv takes care of our ui.directives, bootstrap module directives and 
            // AngularJS's ng-view, ng-include, ng-pluralize and ng-switch directives.
            // However, IF you have custom directives (yours or someone else's) then
            // enumerate the list of tags in window.myCustomTags
         
            window.myCustomTags = [ 'yourDirective', 'somebodyElsesDirective' ]; // optional
            </script>
            <script src="/js/angular-ui-ieshiv.min.js"></script>
        <![endif]-->

        <!-- AngularJS app -->
        <script type="text/javascript" src="/js/ng/app.js"></script>    
        <script type="text/javascript" src="/js/ng/resources.js"></script>           
        <script type="text/javascript" src="/js/ng/backend.js"></script>   
        <script type="text/javascript" src="/js/ng/controllers.js"></script>    
    </head>

    <body>

        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="#">SymptoMeter</a>
                    <div class="nav-collapse collapse" ng-controller="AuthCtrl">
                        <p class="navbar-text pull-right">
                            <span ng-hide="!loggedIn">{{userName}} | <a href="/app/auth/logout" class="navbar-link">Logout</a> | 
                                <a href="#/add-new-cycle" class="navbar-link">Add a new cycle</a>                            

                                <select ng-controller="CycleChooserCtrl" ng-model="currentCycle" required 
                                        ng-change="changeCycle()" ng-options="c.start as label(c) for c in cycles">
                                </select>
                            </span>
                        </p>
                        <ul class="nav" ng-hide="!loggedIn">
                            <li><a href="#/">Home</a></li>
                            <li><a href="#/dashboard">Dashboard</a></li>
                        </ul>
                    </div><!--/.nav-collapse -->
                </div>
            </div>
        </div>

        <div class="container">

            <div ng-view></div>
        </div> <!-- /container -->

        <script src="bootstrap/js/bootstrap.js"></script>

    </body>    
</html>
